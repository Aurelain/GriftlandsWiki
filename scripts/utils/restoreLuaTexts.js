const fromBase64 = require('./fromBase64');

/**
 *
 */
const restoreLuaTexts = (lua) => {
    return lua.replace(/"([^"]*)"/g, restoreTexts);
};

// =====================================================================================================================
//  P R I V A T E
// =====================================================================================================================
/**
 *
 */
const restoreTexts = (found, inner) => {
    if (inner.charAt(0) === '#') {
        return '"' + fromBase64(inner) + '"';
    } else {
        return found;
    }
};

// =====================================================================================================================
//  E X P O R T
// =====================================================================================================================
module.exports = restoreLuaTexts;
